<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fizyoterapist İlhami Yavuz</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8f8f8;
            color: #333;
        }
        .section-title {
            color: #2c3e50;
            font-weight: 700;
            margin-bottom: 1.5rem;
        }
        .btn-primary {
            background-color: #3498db;
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 9999px;
            transition: background-color 0.3s ease;
        }
        .btn-primary:hover {
            background-color: #2980b9;
        }
        .icon-text {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }
        .icon-text svg {
            width: 1.5rem;
            height: 1.5rem;
            color: #3498db;
        }
        .card {
            background-color: white;
            border-radius: 1rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            padding: 1.5rem;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
        }
        .nav-link {
            transition: color 0.3s ease;
        }
        .nav-link:hover {
            color: #3498db;
        }
        @media (max-width: 768px) {
            .hero-section {
                flex-direction: column;
                text-align: center;
            }
            .hero-image {
                margin-top: 2rem;
            }
            .nav-menu {
                flex-direction: column;
                align-items: center;
            }
            .nav-menu a {
                margin: 0.5rem 0;
            }
            .services-grid {
                grid-template-columns: 1fr;
            }
            .contact-info-grid {
                grid-template-columns: 1fr;
            }
            .testimonial-card {
                margin-bottom: 1rem;
            }
        }
        #chat-bubble {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: #3498db;
            color: white;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            z-index: 1001; /* Z-index değeri artırıldı */
            transition: transform 0.3s ease;
            animation: pulse 1.5s infinite;
        }
        #chat-bubble:hover {
            transform: scale(1.05);
        }
        #chat-window {
            position: fixed;
            bottom: 90px;
            right: 20px;
            width: 350px;
            height: 500px;
            background-color: white;
            border-radius: 1rem;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
            display: none;
            flex-direction: column;
            overflow: hidden;
            z-index: 1000;
        }
        #chat-header {
            background-color: #3498db;
            color: white;
            padding: 1rem;
            border-top-left-radius: 1rem;
            border-top-right-radius: 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        #chat-header button {
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
        }
        #chat-messages {
            flex-grow: 1;
            padding: 1rem;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }
        .message {
            max-width: 80%;
            padding: 0.75rem 1rem;
            border-radius: 0.75rem;
            word-wrap: break-word;
        }
        .message.bot {
            background-color: #e2e8f0;
            align-self: flex-start;
            border-bottom-left-radius: 0;
        }
        .message.user {
            background-color: #3498db;
            color: white;
            align-self: flex-end;
            border-bottom-right-radius: 0;
        }
        #chat-input-container {
            display: flex;
            padding: 1rem;
            border-top: 1px solid #e2e8f0;
        }
        #chat-input {
            flex-grow: 1;
            padding: 0.75rem;
            border: 1px solid #cbd5e0;
            border-radius: 9999px;
            margin-right: 0.5rem;
            outline: none;
        }
        #chat-send-btn {
            background-color: #3498db;
            color: white;
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        #chat-send-btn:hover {
            background-color: #2980b9;
        }

        @keyframes pulse {
            0% {
                transform: scale(1);
                box-shadow: 0 0 0 0 rgba(52, 152, 219, 0.7);
            }
            70% {
                transform: scale(1.05);
                box-shadow: 0 0 0 10px rgba(52, 152, 219, 0);
            }
            100% {
                transform: scale(1);
                box-shadow: 0 0 0 0 rgba(52, 152, 219, 0);
            }
        }
    </style>
</head>
<body class="antialiased">

    <header class="bg-white shadow-sm py-4 px-6 md:px-12 flex flex-col md:flex-row justify-between items-center rounded-b-lg">
        <div class="text-2xl font-bold text-gray-800 mb-4 md:mb-0">Fizyoterapist İlhami Yavuz</div>
        <nav class="nav-menu flex flex-wrap justify-center gap-4 md:gap-8 text-lg font-medium">
            <a href="#home" class="nav-link text-gray-700 hover:text-blue-500">Ana Sayfa</a>
            <a href="#about" class="nav-link text-gray-700 hover:text-blue-500">Hakkımda</a>
            <a href="#services" class="nav-link text-gray-700 hover:text-blue-500">Hizmetler</a>
            <a href="#appointment" class="nav-link text-gray-700 hover:text-blue-500">Randevu Al</a>
            <a href="#testimonials" class="nav-link text-gray-700 hover:text-blue-500">Danışan Görüşleri</a>
            <a href="#contact" class="nav-link text-gray-700 hover:text-blue-500">İletişim</a>
        </nav>
    </header>

    <section id="home" class="bg-gradient-to-r from-blue-400 to-blue-600 text-white py-16 px-6 md:px-12 flex flex-col md:flex-row items-center justify-center rounded-xl m-4 md:m-8">
        <div class="hero-content text-center md:text-left max-w-2xl">
            <h1 class="text-4xl md:text-5xl font-extrabold leading-tight mb-4">Hareketi Özgürleştir, Yaşam Kaliteni Artır.</h1>
            <p class="text-xl md:text-2xl font-light mb-8">Uzman fizyoterapist olarak, çocuklardan yetişkinlere kadar bireye özel rehabilitasyon programlarıyla yanınızdayım.</p>
            <div class="flex flex-wrap justify-center md:justify-start gap-4">
                <a href="#about" class="btn-primary">Hakkımda</a>
                <a href="#services" class="btn-primary">Hizmetler</a>
                <a href="#appointment" class="btn-primary">Randevu Al</a>
            </div>
        </div>
        <div class="hero-image md:ml-12 mt-8 md:mt-0">
            <img src="./images/IMG-20250707-WA0011.jpg" alt="Fizyoterapist İlhami Yavuz" class="rounded-full shadow-lg w-48 h-48 md:w-64 md:h-64 object-cover mx-auto" onerror="this.onerror=null;this.src=\'https://placehold.co/256x256/cccccc/000000?text=Resim+Yok\';">
        </div>
    </section>

    <section id="about" class="py-16 px-6 md:px-12 bg-white m-4 md:m-8 rounded-xl shadow-lg flex flex-col items-center justify-center">
        <div class="md:w-full text-center md:text-left max-w-4xl mx-auto">
            <h2 class="text-3xl section-title">Fizyoterapist İlhami Yavuz</h2>
            <p class="text-lg leading-relaxed text-gray-700">
                Fizyoterapi ve Rehabilitasyon alanında edindiğim akademik bilgi ve sahadaki deneyimimle, bireylerin yaşam kalitesini artırmak ve potansiyellerini en üst düzeye taşımak için çalışıyorum. Çalışma alanımın merkezinde; pediatrik rehabilitasyon, ortopedik problemler, duruş bozuklukları, denge-yürüyüş eğitimi ve gelişimsel gecikmelere yönelik fizyoterapi uygulamaları yer alıyor. Her bireyin ihtiyacına özel değerlendirme ve egzersiz planlaması yaparak, süreci bilimsel temelli ve fonksiyonel hedeflerle ilerletiyorum.
            </p>
        </div>
    </section>

    <section id="services" class="py-16 px-6 md:px-12 bg-gray-50 m-4 md:m-8 rounded-xl shadow-lg">
        <h2 class="text-3xl section-title text-center">Bireye Özel Fizyoterapi Hizmetleri</h2>
        <div class="services-grid grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 max-w-5xl mx-auto">
            <div class="card p-6 flex flex-col items-center text-center">
                <img src="./images/pexels-thisisengineering-3912370.jpg" alt="Pediatrik Fizyoterapi" class="rounded-full mb-4 w-24 h-24 object-cover" onerror="this.onerror=null;this.src=\'https://placehold.co/100x100/cccccc/000000?text=Resim+Yok\';">
                <h3 class="text-xl font-semibold text-gray-800 mb-2">Pediatrik Fizyoterapi</h3>
                <p class="text-gray-600">Down sendromu, serebral palsi, gelişim geriliği gibi durumlarda çocukların motor gelişimini desteklemek amacıyla oyun temelli ve bilimsel yaklaşımlarla bireysel terapi uygulamaları sunuyorum.</p>
            </div>
            <div class="card p-6 flex flex-col items-center text-center">
                <img src="./images/pexels-pixabay-39671.jpg" alt="Nörolojik Rehabilitasyon" class="rounded-full mb-4 w-24 h-24 object-cover" onerror="this.onerror=null;this.src=\'https://placehold.co/100x100/cccccc/000000?text=Resim+Yok\';">
                <h3 class="text-xl font-semibold text-gray-800 mb-2">Nörolojik Rehabilitasyon</h3>
                <p class="text-gray-600">İnme, multiple skleroz (MS), beyin travması gibi nörolojik durumlara özel hareket kabiliyeti ve fonksiyonel bağımsızlığı yeniden kazandırmayı hedefleyen egzersiz programları sunuyorum.</p>
            </div>
            <div class="card p-6 flex flex-col items-center text-center">
                <img src="./images/pexels-maksgelatin-6094033.jpg" alt="Ortopedik Rehabilitasyon" class="rounded-full mb-4 w-24 h-24 object-cover" onerror="this.onerror=null;this.src=\'https://placehold.co/100x100/cccccc/000000?text=Resim+Yok\';">
                <h3 class="text-xl font-semibold text-gray-800 mb-2">Ortopedik Rehabilitasyon</h3>
                <p class="text-gray-600">Skolyoz, bel-boyun fıtığı, ameliyat sonrası kas iskelet sistemi problemleri ve postür bozukluklarına yönelik kişiye özel tedavi planları oluşturuyorum.</p>
            </div>
        </div>
    </section>

    <section id="appointment" class="py-16 px-6 md:px-12 bg-white m-4 md:m-8 rounded-xl shadow-lg text-center">
        <h2 class="text-3xl section-title">Randevunuzu Hemen Oluşturun</h2>
        <p class="text-lg leading-relaxed text-gray-700 mb-8 max-w-3xl mx-auto">
            Fizyoterapi sürecinize başlamak için aşağıdaki iletişim kanallarından benimle doğrudan iletişime geçebilirsiniz. Size en uygun gün ve saat için birlikte planlama yapabiliriz.
        </p>
        <div class="flex flex-col md:flex-row justify-center items-center gap-6">
            <a href="tel:05372751789" class="btn-primary flex items-center gap-2">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.166.44l-1.417 2.126a6.002 6.002 0 0 1-3.094-3.094l2.126-1.417c.385-.264.55-.726.44-1.166L13.5 7.125c-.125-.501-.575-.852-1.091-.852H10.5a2.25 2.25 0 0 0-2.25 2.25v2.25M12 12l.042-.042a.75.75 0 0 1 .91-.04L15 9.75M12 12l-1.5 1.5M12 12l-.042.042a.75.75 0 0 0-.91.04L9 14.25" />
                </svg>
                Telefon
            </a>
            <a href="https://wa.me/905372751789" target="_blank" class="btn-primary flex items-center gap-2">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M7.5 8.25h9m-9 3H12m-9.75 1.51c0 1.455.343 2.906 1.07 4.277A10.5 10.5 0 0 0 12 21c2.246 0 4.47-.63 6.38-1.873a10.5 10.5 0 0 0 1.07-4.277V8.25a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v5.26Z" />
                </svg>
                WhatsApp ile Hızlı Randevu
            </a>
        </div>
        <p class="text-gray-700 mt-6 text-lg">
            📍 Adres: Doğu Cd No.13, Yeni Mahalle, İlk Paylaşım Özel Eğitim Merkezi – Ardahan
        </p>
        <p class="text-gray-700 text-lg">
            📧 E-posta: <a href="mailto:fztilhamiyavuz@gmail.com" class="text-blue-600 hover:underline">fztilhamiyavuz@gmail.com</a>
        </p>
        <p class="text-gray-700 text-lg">
            📷 Instagram: <a href="https://www.instagram.com/fzt.ilhamiyavuz" target="_blank" class="text-blue-600 hover:underline">@fzt.ilhamiyavuz</a>
        </p>
    </section>

    <section id="testimonials" class="py-16 px-6 md:px-12 bg-white m-4 md:m-8 rounded-xl shadow-lg">
        <h2 class="text-3xl section-title text-center">Danışanlarımızdan Gelenler</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8 max-w-4xl mx-auto">
            <div class="card p-6 testimonial-card">
                <p class="text-gray-700 italic mb-4">“İlhami Bey, oğlumun ilk adımlarını atmasında çok büyük rol oynadı. Sabırlı ve ilgili yaklaşımı sayesinde güvenle ilerledik.”</p>
                <p class="font-semibold text-gray-800 text-right">– A.G.</p>
            </div>
            <div class="card p-6 testimonial-card">
                <p class="text-gray-700 italic mb-4">“Bel fıtığı ağrılarım yıllardır geçmiyordu. Uyguladığı egzersiz programı ve yönlendirmeleriyle ağrılarım büyük ölçüde azaldı.”</p>
                <p class="font-semibold text-gray-800 text-right">– E.K.</p>
            </div>
        </div>
    </section>

    <section id="contact" class="py-16 px-6 md:px-12 bg-gray-50 m-4 md:m-8 rounded-xl shadow-lg text-center">
        <h2 class="text-3xl section-title">Benimle İletişime Geçin</h2>
        <p class="text-lg leading-relaxed text-gray-700 mb-8 max-w-3xl mx-auto">
            Fizyoterapi hizmetleri hakkında detaylı bilgi almak veya randevu oluşturmak için aşağıdaki iletişim kanallarından bana ulaşabilirsiniz.
        </p>
        <div class="flex flex-col md:flex-row justify-center items-center gap-6">
            <a href="tel:05372751789" class="btn-primary flex items-center gap-2">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.166.44l-1.417 2.126a6.002 6.002 0 0 1-3.094-3.094l2.126-1.417c.385-.264.55-.726.44-1.166L13.5 7.125c-.125-.501-.575-.852-1.091-.852H10.5a2.25 2.25 0 0 0-2.25 2.25v2.25M12 12l.042-.042a.75.75 0 0 1 .91-.04L15 9.75M12 12l-1.5 1.5M12 12l-.042.042a.75.75 0 0 0-.91.04L9 14.25" />
                </svg>
                Telefon
            </a>
            <a href="https://wa.me/905372751789" target="_blank" class="btn-primary flex items-center gap-2">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M7.5 8.25h9m-9 3H12m-9.75 1.51c0 1.455.343 2.906 1.07 4.277A10.5 10.5 0 0 0 12 21c2.246 0 4.47-.63 6.38-1.873a10.5 10.5 0 0 0 1.07-4.277V8.25a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v5.26Z" />
                </svg>
                WhatsApp ile Hızlı Randevu
            </a>
        </div>
        <p class="text-gray-700 mt-6 text-lg">
            📍 Adres: Doğu Cd No.13, Yeni Mahalle, İlk Paylaşım Özel Eğitim Merkezi – Ardahan
        </p>
        <p class="text-gray-700 text-lg">
            📧 E-posta: <a href="mailto:fztilhamiyavuz@gmail.com" class="text-blue-600 hover:underline">fztilhamiyavuz@gmail.com</a>
        </p>
        <p class="text-gray-700 text-lg">
            📷 Instagram: <a href="https://www.instagram.com/fzt.ilhamiyavuz" target="_blank" class="text-blue-600 hover:underline">@fzt.ilhamiyavuz</a>
        </p>
    </section>

    <div id="chat-bubble" onclick="toggleChat()">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-8 h-8">
            <path d="M4.912 2.25a.75.75 0 0 0-.712.514L3.36 5.8a.75.75 0 0 0-.154.168 2.25 2.25 0 0 0 0 2.614 1.5 1.5 0 0 1-.412 1.258l-.875.875c-.324.324-.094.861.354.9l7.986 1.066a.75.75 0 0 0 .736-.265 2.25 2.25 0 0 0 .154-.168 2.25 2.25 0 0 0 0-2.614 1.5 1.5 0 0 1 .412-1.258l.875-.875c.324-.324.094-.861-.354-.9L11.536 2.76a.75.75 0 0 0-.736.265A2.25 2.25 0 0 0 10.64 3.16a2.25 2.25 0 0 0 0 2.614 1.5 1.5 0 0 1-.412 1.258l-.875.875c-.324.324-.094.861-.354-.9L7.464 2.76a.75.75 0 0 0-.736-.265A2.25 2.25 0 0 0 6.536 3.16a2.25 2.25 0 0 0 0 2.614 1.5 1.5 0 0 1-.412 1.258l-.875.875c-.324.324-.094.861-.354-.9L4.2 13.914a.75.75 0 0 0-.547.411 2.25 2.25 0 0 0 0 2.614 1.5 1.5 0 0 1 .412 1.258l.875.875c.324.324.094.861-.354.9l-7.986-1.066a.75.75 0 0 0-.736.265A2.25 2.25 0 0 0-1.464 19.16a2.25 2.25 0 0 0 0 2.614 1.5 1.5 0 0 1 .412 1.258l.875.875c.324.324.094.861-.354.9L-1.786 23.914a.75.75 0 0 0-.547.411A2.25 2.25 0 0 0-2.464 24.16a2.25 2.25 0 0 0 0 2.614 1.5 1.5 0 0 1 .412 1.258l.875.875c.324.324.094.861-.354.9L-1.786 28.914a.75.75 0 0 0-.547.411A2.25 2.25 0 0 0-2.464 29.16a2.25 2.25 0 0 0 0 2.614 1.5 1.5 0 0 1 .412 1.258l.875.875c.324.324.094.861-.354.9L-1.786 33.914a.75.75 0 0 0-.547.411A2.25 2.25 0 0 0-2.464 34.16a2.25 2.25 0 0 0 0 2.614 1.5 1.5 0 0 1 .412 1.258l.875.875c.324.324.094.861-.354.9L-1.786 38.914a.75.75 0 0 0-.547.411A2.25 2.25 0 0 0-2.464 39.16a2.25 2.25 0 0 0 0 2.614 1.5 1.5 0 0 1 .412 1.258l.875.875c.324.324.094.861-.354.9L-1.786 43.914a.75.75 0 0 0-.547.411A2.25 2.25 0 0 0-2.464 44.16a2.25 2.25 0 0 0 0 2.614 1.5 1.5 0 0 1 .412 1.258l.875.875c.324.324.094.861-.354.9L-1.786 48.914a.75.75 0 0 0-.547.411A2.25 2.25 0 0 0-2.464 49.16a2.25 2.25 0 0 0 0 2.614 1.5 1.5 0 0 1 .412 1.258l.875.875c.324.324.094.861-.354.9L-1.786 53.914a.75.75 0 0 0-.547.411A2.25 2.25 0 0 0-2.464 54.16a2.25 2.25 0 0 0 0 2.614 1.5 1.5 0 0 1 .412 1.258l.875.875c.324.324.094.861-.354.9L-1.786 58.914a.75.75 0 0 0-.547.411A2.25 2.25 0 0 0-2.464 59.16a2.25 2.25 0 0 0 0 2.614 1.5 1.5 0 0 1 .412 1.258l.875.875c.324.324.094.861-.354.9L-1.786 63.914a.75.75 0 0 0-.547.411A2.25 2.25 0 0 0-2.464 64.16a2.25 2.25 0 0 0 0 2.614 1.5 1.5 0 0 1 .412 1.258l.875.875c.324.324.094.861-.354.9L-1.786 68.914a.75.75 0 0 0-.547.411A2.25 2.25 0 0 0-2.464 69.16a2.25 2.25 0 0 0 0 2.614 1.5 1.5 0 0 1 .412 1.258l.875.875c.324.324.094.861-.354.9L-1.786 73.914a.75.75 0 0 0-.547.411A2.25 2.25 0 0 0-2.464 74.16a2.25 2.25 0 0 0 0 2.614 1.5 1.5 0 0 1 .412 1.258l.875.875c.324.324.094.861-.354.9L-1.786 78.914a.75.75 0 0 0-.547.411A2.25 2.25 0 0 0-2.464 79.16a2.25 2.25 0 0 0 0 2.614 1.5 1.5 0 0 1 .412 1.258l.875.875c.324.324.094.861-.354.9L-1.786 83.914a.75.75 0 0 0-.547.411A2.25 2.25 0 0 0-2.464 84.16a2.25 2.25 0 0 0 0 2.614 1.5 1.5 0 0 1 .412 1.258l.875.875c.324.324.094.861-.354.9L-1.786 88.914a.75.75 0 0 0-.547.411A2.25 2.25 0 0 0-2.464 89.16a2.25 2.25 0 0 0 0 2.614 1.5 1.5 0 0 1 .412 1.258l.875.875c.324.324.094.861-.354.9L-1.786 93.914a.75.75 0 0 0-.547.411A2.25 2.25 0 0 0-2.464 94.16a2.25 2.25 0 0 0 0 2.614 1.5 1.5 0 0 1 .412 1.258l.875.875c.324.324.094.861-.354.9L-1.786 98.914a.75.75 0 0 0-.547.411A2.25 2.25 0 0 0-2.464 99.16a2.25 2.25 0 0 0 0 2.614 1.5 1.5 0 0 1 .412 1.258l.875.875c.324.diz_agrisi_nedir = "Diz ağrısı, diz eklemi, çevresindeki kaslar, bağlar veya kıkırdak gibi yapılardaki sorunlardan kaynaklanan yaygın bir semptomdur. En sık görülen nedenler arasında aşırı kullanım, yaralanmalar (menisküs yırtığı, bağ gerilmesi), osteoartrit (kireçlenme) ve tendinit (tendon iltihabı) bulunur."
bel_agrisi_nedir = "Bel ağrısı, bel bölgesindeki omurga, kaslar, diskler ve sinir köklerindeki problemlerden kaynaklanan yaygın bir rahatsızlıktır. Fıtık, kas spazmları, omurga daralması (spinal stenoz) ve kötü duruş en sık görülen nedenler arasındadır."
boyun_agrisi_nedir = "Boyun ağrısı, boyun omurları, kasları veya bağlarındaki gerilim, yaralanma veya aşınma gibi sebeplerden kaynaklanır. Duruş bozuklukları, kas spazmları ve boyun fıtığı en sık görülen durumlardır."
fizyoterapi_nedir = "Fizyoterapi, hastalık, sakatlık, yaşlanma veya yaralanma nedeniyle bozulan fonksiyonel hareketleri ve yaşam kalitesini iyileştirmeyi amaçlayan bir sağlık alanıdır. Değerlendirme, egzersiz, manuel terapi ve diğer fiziksel yöntemlerle uygulanır."
ilhami_hoca_hakkinda = "Fizyoterapist İlhami Yavuz, nörolojik, ortopedik ve pediatrik rehabilitasyon alanlarında uzmanlaşmıştır. Kişiye özel, bilimsel temelli yaklaşımlarla hastalarının hareket kabiliyetini artırmayı, ağrıyı azaltmayı ve yaşam kalitesini yükseltmeyi hedefler."

// Function to get a response from Gemini API
async function getGeminiResponse(prompt) {
    // API anahtarınızı buraya girin
    const API_KEY = 'AIzaSyBa_jH4YxEvxR0SSWmi-4bqtGqG7n5b1l8';
    if (!API_KEY || API_KEY === '__api_key__') {
        return "Lütfen Gemini API anahtarınızı girin.";
    }

    const API_URL = `https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=${API_KEY}`;
    
    // Add a system prompt to define the bot's persona and rules
    const systemPrompt = `
        Sen, fizyoterapist İlhami Yavuz'un dijital asistanısın. Adın FizyoAsistan.
        Kullanıcılara sadece fizyoterapi ve sağlıkla ilgili konularda bilgi verebilirsin.
        Tıbbi teşhis koyma veya kişiye özel tedavi önerme yetkin yok. Her zaman bir uzmana danışılması gerektiğini vurgulamalısın.
        Tıbbi teşhis veya kişisel durumla ilgili sorulara, "En doğru teşhis ve size özel tedavi planı için İlhami Hocamızla görüşmeniz en doğrusu olacaktır." şeklinde yanıt ver.
        Web sitemizin sunduğu hizmetlere yönlendirebilirsin: Randevu alma, iletişim gibi.
        Web sitesinin fizyoterapistine "İlhami Hocam" diye hitap et.
        Yalnızca Türkçe yanıt ver.
        Web sitesindeki hizmetleri tanıtabilirsin.
        İlhami Hoca'nın uzmanlık alanları: nörolojik, ortopedik ve pediatrik rehabilitasyon.
        İlhami Hoca'nın iletişim bilgileri: Telefon: 05372751789, E-posta: fztilhamiyavuz@gmail.com, Adres: Doğu Cd No.13, Yeni Mahalle, İlk Paylaşım Özel Eğitim Merkezi – Ardahan, Instagram: @fzt.ilhamiyavuz.
        Eğer kullanıcı API ile ilgili bir sorun sorarsa, "API anahtarınızın doğru girildiğinden ve Generative Language API'sinin Google Cloud projenizde etkin olduğundan emin olun." şeklinde yanıt ver.
    `;
    
    const requestBody = {
        contents: [{
            parts: [{
                text: systemPrompt + "\nKullanıcı: " + prompt
            }]
        }],
        safetySettings: [{
            "category": "HARM_CATEGORY_DANGEROUS_CONTENT",
            "threshold": "BLOCK_NONE"
        }]
    };

    try {
        const response = await fetch(API_URL, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(requestBody)
        });

        if (!response.ok) {
            console.error('API Error:', response.statusText, await response.text());
            return "API Hatası: İstek başarısız oldu. Lütfen daha sonra tekrar deneyin.";
        }

        const data = await response.json();
        if (data.candidates && data.candidates[0] && data.candidates[0].content) {
            return data.candidates[0].content.parts[0].text;
        } else {
            console.error('API Error: Unexpected response format', data);
            return "API Hatası: Beklenmeyen yanıt formatı. Lütfen daha sonra tekrar deneyin.";
        }

    } catch (error) {
        console.error('Fetch Error:', error);
        return "Bir hata oluştu. Lütfen daha sonra tekrar deneyin.";
    }
}

// Global chat state
let isChatOpen = false;
let chatHistory = [];
let model;

// Chatbot UI elements
const chatBubble = document.getElementById('chat-bubble');
const chatWindow = document.getElementById('chat-window');
const closeChatBtn = document.getElementById('close-chat-btn');
const chatMessages = document.getElementById('chat-messages');
const chatInput = document.getElementById('chat-input');
const chatSendBtn = document.getElementById('chat-send-btn');

// Corrected Chat Bubble Toggle
function toggleChat() {
    isChatOpen = !isChatOpen;
    chatWindow.style.display = isChatOpen ? 'flex' : 'none';
    if (isChatOpen) {
        // Initial welcome message
        if (chatMessages.children.length === 0) {
            addMessageToChat('bot', "Merhaba! Ben FizyoAsistan, İlhami Hocamızın dijital asistanıyım. Size nasıl yardımcı olabilirim?");
        }
        chatInput.focus();
    }
}

closeChatBtn.addEventListener('click', toggleChat);
chatInput.addEventListener('keypress', (e) => {
    if (e.key === 'Enter') {
        sendMessage();
    }
});
chatSendBtn.addEventListener('click', sendMessage);

function addMessageToChat(sender, text) {
    const messageElement = document.createElement('div');
    messageElement.classList.add('message', sender);
    messageElement.textContent = text;
    chatMessages.appendChild(messageElement);
    chatMessages.scrollTop = chatMessages.scrollHeight;
}

async function sendMessage() {
    const userMessage = chatInput.value.trim();
    if (userMessage === '') return;

    addMessageToChat('user', userMessage);
    chatInput.value = '';

    chatInput.disabled = true;
    chatSendBtn.disabled = true;

    const API_KEY = '__api_key__'; // API anahtarınızı buraya girin

    if (API_KEY === '__api_key__') {
        addMessageToChat('bot', "Lütfen API anahtarınızı JavaScript kodunda doğru yere ekleyin.");
        chatInput.disabled = false;
        chatSendBtn.disabled = false;
        return;
    }

    if (!model) {
        const genAI = new GoogleGenerativeAI(API_KEY);
        model = genAI.getGenerativeModel({ model: "gemini-pro" });
    }
    
    const systemPrompt = `
        Sen, fizyoterapist İlhami Yavuz'un dijital asistanısın. Adın FizyoAsistan.
        Kullanıcılara sadece fizyoterapi ve sağlıkla ilgili konularda bilgi verebilirsin.
        Tıbbi teşhis koyma veya kişiye özel tedavi önerme yetkin yok. Her zaman bir uzmana danışılması gerektiğini vurgulamalısın.
        Tıbbi teşhis veya kişisel durumla ilgili sorulara, "En doğru teşhis ve size özel tedavi planı için İlhami Hocamızla görüşmeniz en doğrusu olacaktır." şeklinde yanıt ver.
        Web sitenin sunduğu hizmetlere yönlendirebilirsin: Randevu alma, iletişim gibi.
        Web sitesinin fizyoterapistine "İlhami Hocam" diye hitap et.
        Yalnızca Türkçe yanıt ver.
        İlhami Hocam'ın uzmanlık alanları: nörolojik, ortopedik ve pediatrik rehabilitasyon.
        İlhami Hocam'ın iletişim bilgileri: Telefon: 05372751789, E-posta: fztilhamiyavuz@gmail.com, Adres: Doğu Cd No.13, Yeni Mahalle, İlk Paylaşım Özel Eğitim Merkezi – Ardahan, Instagram: @fzt.ilhamiyavuz.
        Eğer kullanıcı API ile ilgili bir sorun sorarsa, "API anahtarınızın doğru girildiğinden ve Generative Language API'sinin Google Cloud projenizde etkin olduğundan emin olun." şeklinde yanıt ver.
    `;
    
    addMessageToChat('bot', "Düşünüyorum...");
    
    try {
        const result = await model.generateContent(userMessage);
        const botResponse = await result.response.text();

        chatMessages.lastElementChild.remove();
        addMessageToChat('bot', botResponse);
        
    } catch (error) {
        console.error('API Error:', error);
        chatMessages.lastElementChild.remove();
        addMessageToChat('bot', "API hatası oluştu. Lütfen anahtarınızı kontrol edin ve daha sonra tekrar deneyin.");
    } finally {
        chatInput.disabled = false;
        chatSendBtn.disabled = false;
        chatInput.focus();
    }
}
